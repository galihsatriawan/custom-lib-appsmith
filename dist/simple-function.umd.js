!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("buffer"),require("stream"),require("util"),require("crypto")):"function"==typeof define&&define.amd?define(["exports","buffer","stream","util","crypto"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).simpleFunction={},e.require$$0,e.require$$3,e.require$$5,e.require$$2)}(this,(function(e,r,t,n,i){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=o(r),a=o(t),u=o(n),c=o(i);function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l,p,h,m,d,E,y,g,v,b,w,S,$,R,I,O,A,T,N,L,j,P,x,C,k,D,M,G,_,F,B={},U={exports:{}};function K(){return l||(l=1,function(e,r){var t=s.default,n=t.Buffer;function i(e,r){for(var t in e)r[t]=e[t]}function o(e,r,t){return n(e,r,t)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(i(t,r),r.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,r,t){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,r,t)},o.alloc=function(e,r,t){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==r?"string"==typeof t?i.fill(r,t):i.fill(r):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return t.SlowBuffer(e)}}(U,U.exports)),U.exports}function V(){if(h)return p;h=1;var e=K().Buffer,r=a.default;function t(r){if(this.buffer=null,this.writable=!0,this.readable=!0,!r)return this.buffer=e.alloc(0),this;if("function"==typeof r.pipe)return this.buffer=e.alloc(0),r.pipe(this),this;if(r.length||"object"==typeof r)return this.buffer=r,this.writable=!1,process.nextTick(function(){this.emit("end",r),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof r+")")}return u.default.inherits(t,r),t.prototype.write=function(r){this.buffer=e.concat([this.buffer,e.from(r)]),this.emit("data",r)},t.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},p=t}function H(){if(v)return g;v=1;var e=K().Buffer,r=function(){if(y)return E;function e(e){return(e/8|0)+(e%8==0?0:1)}y=1;var r={ES256:e(256),ES384:e(384),ES512:e(521)};return E=function(e){var t=r[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}}(),t=128;function n(r){if(e.isBuffer(r))return r;if("string"==typeof r)return e.from(r,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function i(e,r,n){for(var i=0;r+i<n&&0===e[r+i];)++i;return e[r+i]>=t&&--i,i}return g={derToJose:function(t,i){t=n(t);var o=r(i),s=o+1,a=t.length,u=0;if(48!==t[u++])throw new Error('Could not find expected "seq"');var c=t[u++];if(129===c&&(c=t[u++]),a-u<c)throw new Error('"seq" specified length of "'+c+'", only "'+(a-u)+'" remaining');if(2!==t[u++])throw new Error('Could not find expected "int" for "r"');var f=t[u++];if(a-u-2<f)throw new Error('"r" specified length of "'+f+'", only "'+(a-u-2)+'" available');if(s<f)throw new Error('"r" specified length of "'+f+'", max of "'+s+'" is acceptable');var l=u;if(u+=f,2!==t[u++])throw new Error('Could not find expected "int" for "s"');var p=t[u++];if(a-u!==p)throw new Error('"s" specified length of "'+p+'", expected "'+(a-u)+'"');if(s<p)throw new Error('"s" specified length of "'+p+'", max of "'+s+'" is acceptable');var h=u;if((u+=p)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-u)+'" bytes remain');var m=o-f,d=o-p,E=e.allocUnsafe(m+f+d+p);for(u=0;u<m;++u)E[u]=0;t.copy(E,u,l+Math.max(-m,0),l+f);for(var y=u=o;u<y+d;++u)E[u]=0;return t.copy(E,u,h+Math.max(-d,0),h+p),E=(E=E.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(o,s){o=n(o);var a=r(s),u=o.length;if(u!==2*a)throw new TypeError('"'+s+'" signatures must be "'+2*a+'" bytes, saw "'+u+'"');var c=i(o,0,a),f=i(o,a,o.length),l=a-c,p=a-f,h=2+l+1+1+p,m=h<t,d=e.allocUnsafe((m?2:3)+h),E=0;return d[E++]=48,m?d[E++]=h:(d[E++]=129,d[E++]=255&h),d[E++]=2,d[E++]=l,c<0?(d[E++]=0,E+=o.copy(d,E,0,a)):E+=o.copy(d,E,c,a),d[E++]=2,d[E++]=p,f<0?(d[E++]=0,o.copy(d,E,a)):o.copy(d,E,a+f),d}}}function X(){if(w)return b;w=1;var e=function(){if(d)return m;d=1;var e=s.default.Buffer,r=s.default.SlowBuffer;function t(r,t){if(!e.isBuffer(r)||!e.isBuffer(t))return!1;if(r.length!==t.length)return!1;for(var n=0,i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}m=t,t.install=function(){e.prototype.equal=r.prototype.equal=function(e){return t(this,e)}};var n=e.prototype.equal,i=r.prototype.equal;return t.restore=function(){e.prototype.equal=n,r.prototype.equal=i},m}(),r=K().Buffer,t=c.default,n=H(),i=u.default,o="secret must be a string or buffer",a="key must be a string or a buffer",f="function"==typeof t.createPublicKey;function l(e){if(!r.isBuffer(e)&&"string"!=typeof e){if(!f)throw y(a);if("object"!=typeof e)throw y(a);if("string"!=typeof e.type)throw y(a);if("string"!=typeof e.asymmetricKeyType)throw y(a);if("function"!=typeof e.export)throw y(a)}}function p(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw y("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function E(e){var r=4-(e=e.toString()).length%4;if(4!==r)for(var t=0;t<r;++t)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function y(e){var r=[].slice.call(arguments,1),t=i.format.bind(i,e).apply(null,r);return new TypeError(t)}function g(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function v(e){return function(n,i){!function(e){if(!r.isBuffer(e)){if("string"==typeof e)return e;if(!f)throw y(o);if("object"!=typeof e)throw y(o);if("secret"!==e.type)throw y(o);if("function"!=typeof e.export)throw y(o)}}(i),n=g(n);var s=t.createHmac("sha"+e,i);return h((s.update(n),s.digest("base64")))}}function S(t){return function(n,i,o){var s=v(t)(n,o);return e(r.from(i),r.from(s))}}function $(e){return function(r,n){p(n),r=g(r);var i=t.createSign("RSA-SHA"+e);return h((i.update(r),i.sign(n,"base64")))}}function R(e){return function(r,n,i){l(i),r=g(r),n=E(n);var o=t.createVerify("RSA-SHA"+e);return o.update(r),o.verify(i,n,"base64")}}function I(e){return function(r,n){p(n),r=g(r);var i=t.createSign("RSA-SHA"+e);return h((i.update(r),i.sign({key:n,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function O(e){return function(r,n,i){l(i),r=g(r),n=E(n);var o=t.createVerify("RSA-SHA"+e);return o.update(r),o.verify({key:i,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function A(e){var r=$(e);return function(){var t=r.apply(null,arguments);return t=n.derToJose(t,"ES"+e)}}function T(e){var r=R(e);return function(t,i,o){return i=n.joseToDer(i,"ES"+e).toString("base64"),r(t,i,o)}}function N(){return function(){return""}}function L(){return function(e,r){return""===r}}return f&&(a+=" or a KeyObject",o+="or a KeyObject"),b=function(e){var r={hs:v,rs:$,ps:I,es:A,none:N},t={hs:S,rs:R,ps:O,es:T,none:L},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw y('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),o=n[2];return{sign:r[i](o),verify:t[i](o)}}}function q(){if($)return S;$=1;var e=s.default.Buffer;return S=function(r){return"string"==typeof r?r:"number"==typeof r||e.isBuffer(r)?r.toString():JSON.stringify(r)}}function z(){if(I)return R;I=1;var e=K().Buffer,r=V(),t=X(),n=a.default,i=q(),o=u.default;function s(r,t){return e.from(r,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c(e){var r=e.header,n=e.payload,a=e.secret||e.privateKey,u=e.encoding,c=t(r.alg),f=function(e,r,t){t=t||"utf8";var n=s(i(e),"binary"),a=s(i(r),t);return o.format("%s.%s",n,a)}(r,n,u),l=c.sign(f,a);return o.format("%s.%s",f,l)}function f(e){var t=e.secret||e.privateKey||e.key,n=new r(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=n,this.payload=new r(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}return o.inherits(f,n),f.prototype.sign=function(){try{var e=c({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.sign=c,R=f}function W(){if(A)return O;A=1;var e=K().Buffer,r=V(),t=X(),n=a.default,i=q(),o=u.default,s=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function c(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function f(r){var t=r.split(".",1)[0];return c(e.from(t,"base64").toString("binary"))}function l(e){return e.split(".")[2]}function p(e){return s.test(e)&&!!f(e)}function h(e,r,n){if(!r){var o=new Error("Missing algorithm parameter for jws.verify");throw o.code="MISSING_ALGORITHM",o}var s=l(e=i(e)),a=function(e){return e.split(".",2).join(".")}(e);return t(r).verify(a,s,n)}function m(r,t){if(t=t||{},!p(r=i(r)))return null;var n=f(r);if(!n)return null;var o=function(r,t){t=t||"utf8";var n=r.split(".")[1];return e.from(n,"base64").toString(t)}(r);return("JWT"===n.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:n,payload:o,signature:l(r)}}function d(e){var t=(e=e||{}).secret||e.publicKey||e.key,n=new r(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=n,this.signature=new r(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}return o.inherits(d,n),d.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),r=m(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.decode=m,d.isValid=p,d.verify=h,O=d}function J(){if(T)return B;T=1;var e=z(),r=W();return B.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],B.sign=e.sign,B.verify=r.verify,B.decode=r.decode,B.isValid=r.isValid,B.createSign=function(r){return new e(r)},B.createVerify=function(e){return new r(e)},B}function Y(){if(L)return N;L=1;var e=J();return N=function(r,t){t=t||{};var n=e.decode(r,t);if(!n)return null;var i=n.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:n.header,payload:i,signature:n.signature}:i},N}function Z(){if(P)return j;P=1;var e=function(e,r){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,r&&(this.inner=r)};return(e.prototype=Object.create(Error.prototype)).constructor=e,j=e}function Q(){if(C)return x;C=1;var e=Z(),r=function(r,t){e.call(this,r),this.name="NotBeforeError",this.date=t};return(r.prototype=Object.create(e.prototype)).constructor=r,x=r}function ee(){if(D)return k;D=1;var e=Z(),r=function(r,t){e.call(this,r),this.name="TokenExpiredError",this.expiredAt=t};return(r.prototype=Object.create(e.prototype)).constructor=r,k=r}function re(){if(G)return M;G=1;var e=1e3,r=60*e,t=60*r,n=24*t,i=7*n,o=365.25*n;function s(e,r,t,n){var i=r>=1.5*t;return Math.round(e/t)+" "+n+(i?"s":"")}return M=function(a,u){u=u||{};var c=typeof a;if("string"===c&&a.length>0)return function(s){if((s=String(s)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!a)return;var u=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*t;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(a);if("number"===c&&isFinite(a))return u.long?function(i){var o=Math.abs(i);if(o>=n)return s(i,o,n,"day");if(o>=t)return s(i,o,t,"hour");if(o>=r)return s(i,o,r,"minute");if(o>=e)return s(i,o,e,"second");return i+" ms"}(a):function(i){var o=Math.abs(i);if(o>=n)return Math.round(i/n)+"d";if(o>=t)return Math.round(i/t)+"h";if(o>=r)return Math.round(i/r)+"m";if(o>=e)return Math.round(i/e)+"s";return i+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}function te(){if(F)return _;F=1;var e=re();return _=function(r,t){var n=t||Math.floor(Date.now()/1e3);if("string"==typeof r){var i=e(r);if(void 0===i)return;return Math.floor(n+i/1e3)}return"number"==typeof r?n+r:void 0}}var ne,ie,oe,se,ae,ue,ce,fe,le,pe,he,me,de,Ee,ye,ge,ve,be,we,Se,$e,Re,Ie,Oe,Ae,Te,Ne,Le,je,Pe,xe,Ce,ke,De,Me,Ge,_e,Fe,Be,Ue,Ke,Ve,He,Xe,qe,ze,We,Je,Ye,Ze,Qe,er,rr,tr,nr,ir,or,sr,ar,ur,cr,fr,lr,pr,hr,mr,dr,Er,yr,gr,vr,br,wr,Sr,$r,Rr,Ir,Or,Ar,Tr,Nr,Lr,jr,Pr,xr,Cr,kr,Dr,Mr,Gr,_r,Fr,Br,Ur,Kr,Vr,Hr,Xr,qr,zr,Wr,Jr,Yr,Zr,Qr,et,rt,tt,nt,it,ot,st,at,ut,ct,ft,lt,pt={exports:{}};function ht(){if(ie)return ne;ie=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return ne={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}function mt(){if(se)return oe;se=1;const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return oe=e}function dt(){return ae||(ae=1,function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ht(),o=mt(),s=(r=e.exports={}).re=[],a=r.safeRe=[],u=r.src=[],c=r.t={};let f=0;const l="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[l,n]],h=(e,r,t)=>{const n=(e=>{for(const[r,t]of p)e=e.split(`${r}*`).join(`${r}{0,${t}}`).split(`${r}+`).join(`${r}{1,${t}}`);return e})(r),i=f++;o(e,i,r),c[e]=i,u[i]=r,s[i]=new RegExp(r,t?"g":void 0),a[i]=new RegExp(n,t?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),h("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${l}+`),h("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),h("FULL",`^${u[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),h("LOOSE",`^${u[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),h("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),h("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",u[c.COERCE],!0),h("COERCERTLFULL",u[c.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",h("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",h("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(pt,pt.exports)),pt.exports}function Et(){if(ce)return ue;ce=1;const e=Object.freeze({loose:!0}),r=Object.freeze({});return ue=t=>t?"object"!=typeof t?e:t:r}function yt(){if(le)return fe;le=1;const e=/^[0-9]+$/,r=(r,t)=>{const n=e.test(r),i=e.test(t);return n&&i&&(r=+r,t=+t),r===t?0:n&&!i?-1:i&&!n?1:r<t?-1:1};return fe={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}function gt(){if(he)return pe;he=1;const e=mt(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:t}=ht(),{safeRe:n,t:i}=dt(),o=Et(),{compareIdentifiers:s}=yt();class a{constructor(s,u){if(u=o(u),s instanceof a){if(s.loose===!!u.loose&&s.includePrerelease===!!u.includePrerelease)return s;s=s.version}else if("string"!=typeof s)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof s}".`);if(s.length>r)throw new TypeError(`version is longer than ${r} characters`);e("SemVer",s,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const c=s.trim().match(u.loose?n[i.LOOSE]:n[i.FULL]);if(!c)throw new TypeError(`Invalid Version: ${s}`);if(this.raw=s,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<t)return r}return e})):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(e("SemVer.compare",this.version,this.options,r),!(r instanceof a)){if("string"==typeof r&&r===this.version)return 0;r=new a(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(e){return e instanceof a||(e=new a(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(r){if(r instanceof a||(r=new a(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=r.prerelease[t];if(e("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return s(n,i)}while(++t)}compareBuild(r){r instanceof a||(r=new a(r,this.options));let t=0;do{const n=this.build[t],i=r.build[t];if(e("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return s(n,i)}while(++t)}inc(e,r,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,t),this.inc("pre",r,t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r,t),this.inc("pre",r,t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(t)?1:0;if(!r&&!1===t)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(r===this.prerelease.join(".")&&!1===t)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(r){let n=[r,e];!1===t&&(n=[r]),0===s(this.prerelease[0],r)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return pe=a}function vt(){if(de)return me;de=1;const e=gt();return me=(r,t,n=!1)=>{if(r instanceof e)return r;try{return new e(r,t)}catch(e){if(!n)return null;throw e}}}function bt(){if(xe)return Pe;xe=1;const e=gt();return Pe=(r,t,n)=>new e(r,n).compare(new e(t,n))}function wt(){if(_e)return Ge;_e=1;const e=gt();return Ge=(r,t,n)=>{const i=new e(r,n),o=new e(t,n);return i.compare(o)||i.compareBuild(o)}}function St(){if(He)return Ve;He=1;const e=bt();return Ve=(r,t,n)=>e(r,t,n)>0}function $t(){if(qe)return Xe;qe=1;const e=bt();return Xe=(r,t,n)=>e(r,t,n)<0}function Rt(){if(We)return ze;We=1;const e=bt();return ze=(r,t,n)=>0===e(r,t,n)}function It(){if(Ye)return Je;Ye=1;const e=bt();return Je=(r,t,n)=>0!==e(r,t,n)}function Ot(){if(Qe)return Ze;Qe=1;const e=bt();return Ze=(r,t,n)=>e(r,t,n)>=0}function At(){if(rr)return er;rr=1;const e=bt();return er=(r,t,n)=>e(r,t,n)<=0}function Tt(){if(nr)return tr;nr=1;const e=Rt(),r=It(),t=St(),n=Ot(),i=$t(),o=At();return tr=(s,a,u,c)=>{switch(a){case"===":return"object"==typeof s&&(s=s.version),"object"==typeof u&&(u=u.version),s===u;case"!==":return"object"==typeof s&&(s=s.version),"object"==typeof u&&(u=u.version),s!==u;case"":case"=":case"==":return e(s,u,c);case"!=":return r(s,u,c);case">":return t(s,u,c);case">=":return n(s,u,c);case"<":return i(s,u,c);case"<=":return o(s,u,c);default:throw new TypeError(`Invalid operator: ${a}`)}}}function Nt(){if(cr)return ur;cr=1;const e=/\s+/g;class r{constructor(t,o){if(o=n(o),t instanceof r)return t.loose===!!o.loose&&t.includePrerelease===!!o.includePrerelease?t:new r(t.raw,o);if(t instanceof i)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=t.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&d(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const r=this.set[e];for(let e=0;e<r.length;e++)e>0&&(this.formatted+=" "),this.formatted+=r[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const r=((this.options.includePrerelease&&p)|(this.options.loose&&h))+":"+e,n=t.get(r);if(n)return n;const s=this.options.loose,d=s?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];e=e.replace(d,A(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(a[u.COMPARATORTRIM],c),o("comparator trim",e),e=e.replace(a[u.TILDETRIM],f),o("tilde trim",e),e=e.replace(a[u.CARETTRIM],l),o("caret trim",e);let E=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>O(e,this.options)));s&&(E=E.filter((e=>(o("loose invalid filter",e,this.options),!!e.match(a[u.COMPARATORLOOSE]))))),o("range list",E);const g=new Map,v=E.map((e=>new i(e,this.options)));for(const e of v){if(m(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const b=[...g.values()];return t.set(r,b),b}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((r=>E(r,t)&&e.set.some((e=>E(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let r=0;r<this.set.length;r++)if(T(this.set[r],e,this.options))return!0;return!1}}ur=r;const t=new(ar?sr:(ar=1,sr=class{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);return void 0===r?void 0:(this.map.delete(e),this.map.set(e,r),r)}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&void 0!==r){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,r)}return this}})),n=Et(),i=Lt(),o=mt(),s=gt(),{safeRe:a,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:l}=dt(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:h}=ht(),m=e=>"<0.0.0-0"===e.value,d=e=>""===e.value,E=(e,r)=>{let t=!0;const n=e.slice();let i=n.pop();for(;t&&n.length;)t=n.every((e=>i.intersects(e,r))),i=n.pop();return t},y=(e,r)=>(o("comp",e,r),e=w(e,r),o("caret",e),e=v(e,r),o("tildes",e),e=$(e,r),o("xrange",e),e=I(e,r),o("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,r)=>e.trim().split(/\s+/).map((e=>b(e,r))).join(" "),b=(e,r)=>{const t=r.loose?a[u.TILDELOOSE]:a[u.TILDE];return e.replace(t,((r,t,n,i,s)=>{let a;return o("tilde",e,r,t,n,i,s),g(t)?a="":g(n)?a=`>=${t}.0.0 <${+t+1}.0.0-0`:g(i)?a=`>=${t}.${n}.0 <${t}.${+n+1}.0-0`:s?(o("replaceTilde pr",s),a=`>=${t}.${n}.${i}-${s} <${t}.${+n+1}.0-0`):a=`>=${t}.${n}.${i} <${t}.${+n+1}.0-0`,o("tilde return",a),a}))},w=(e,r)=>e.trim().split(/\s+/).map((e=>S(e,r))).join(" "),S=(e,r)=>{o("caret",e,r);const t=r.loose?a[u.CARETLOOSE]:a[u.CARET],n=r.includePrerelease?"-0":"";return e.replace(t,((r,t,i,s,a)=>{let u;return o("caret",e,r,t,i,s,a),g(t)?u="":g(i)?u=`>=${t}.0.0${n} <${+t+1}.0.0-0`:g(s)?u="0"===t?`>=${t}.${i}.0${n} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${n} <${+t+1}.0.0-0`:a?(o("replaceCaret pr",a),u="0"===t?"0"===i?`>=${t}.${i}.${s}-${a} <${t}.${i}.${+s+1}-0`:`>=${t}.${i}.${s}-${a} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${s}-${a} <${+t+1}.0.0-0`):(o("no pr"),u="0"===t?"0"===i?`>=${t}.${i}.${s}${n} <${t}.${i}.${+s+1}-0`:`>=${t}.${i}.${s}${n} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${s} <${+t+1}.0.0-0`),o("caret return",u),u}))},$=(e,r)=>(o("replaceXRanges",e,r),e.split(/\s+/).map((e=>R(e,r))).join(" ")),R=(e,r)=>{e=e.trim();const t=r.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return e.replace(t,((t,n,i,s,a,u)=>{o("xRange",e,t,n,i,s,a,u);const c=g(i),f=c||g(s),l=f||g(a),p=l;return"="===n&&p&&(n=""),u=r.includePrerelease?"-0":"",c?t=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(f&&(s=0),a=0,">"===n?(n=">=",f?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",f?i=+i+1:s=+s+1),"<"===n&&(u="-0"),t=`${n+i}.${s}.${a}${u}`):f?t=`>=${i}.0.0${u} <${+i+1}.0.0-0`:l&&(t=`>=${i}.${s}.0${u} <${i}.${+s+1}.0-0`),o("xRange return",t),t}))},I=(e,r)=>(o("replaceStars",e,r),e.trim().replace(a[u.STAR],"")),O=(e,r)=>(o("replaceGTE0",e,r),e.trim().replace(a[r.includePrerelease?u.GTE0PRE:u.GTE0],"")),A=e=>(r,t,n,i,o,s,a,u,c,f,l,p)=>`${t=g(n)?"":g(i)?`>=${n}.0.0${e?"-0":""}`:g(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${t}`:`>=${t}${e?"-0":""}`} ${u=g(c)?"":g(f)?`<${+c+1}.0.0-0`:g(l)?`<${c}.${+f+1}.0-0`:p?`<=${c}.${f}.${l}-${p}`:e?`<${c}.${f}.${+l+1}-0`:`<=${u}`}`.trim(),T=(e,r,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(o(e[t].semver),e[t].semver!==i.ANY&&e[t].semver.prerelease.length>0){const n=e[t].semver;if(n.major===r.major&&n.minor===r.minor&&n.patch===r.patch)return!0}return!1}return!0};return ur}function Lt(){if(lr)return fr;lr=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(n,i){if(i=t(i),n instanceof r){if(n.loose===!!i.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,i),this.options=i,this.loose=!!i.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(r){const t=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],o=r.match(t);if(!o)throw new TypeError(`Invalid comparator: ${r}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new a(o[2],this.options.loose):this.semver=e}toString(){return this.value}test(r){if(s("Comparator.test",r,this.options.loose),this.semver===e||r===e)return!0;if("string"==typeof r)try{r=new a(r,this.options)}catch(e){return!1}return o(r,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,n).test(this.value):""===e.operator?""===e.value||new u(this.value,n).test(e.semver):(!(n=t(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(o(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(o(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}fr=r;const t=Et(),{safeRe:n,t:i}=dt(),o=Tt(),s=mt(),a=gt(),u=Nt();return fr}function jt(){if(hr)return pr;hr=1;const e=Nt();return pr=(r,t,n)=>{try{t=new e(t,n)}catch(e){return!1}return t.test(r)},pr}function Pt(){if($r)return Sr;$r=1;const e=Nt();return Sr=(r,t)=>{try{return new e(r,t).range||"*"}catch(e){return null}},Sr}function xt(){if(Ir)return Rr;Ir=1;const e=gt(),r=Lt(),{ANY:t}=r,n=Nt(),i=jt(),o=St(),s=$t(),a=At(),u=Ot();return Rr=(c,f,l,p)=>{let h,m,d,E,y;switch(c=new e(c,p),f=new n(f,p),l){case">":h=o,m=a,d=s,E=">",y=">=";break;case"<":h=s,m=u,d=o,E="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,f,p))return!1;for(let e=0;e<f.set.length;++e){const n=f.set[e];let i=null,o=null;if(n.forEach((e=>{e.semver===t&&(e=new r(">=0.0.0")),i=i||e,o=o||e,h(e.semver,i.semver,p)?i=e:d(e.semver,o.semver,p)&&(o=e)})),i.operator===E||i.operator===y)return!1;if((!o.operator||o.operator===E)&&m(c,o.semver))return!1;if(o.operator===y&&d(c,o.semver))return!1}return!0},Rr}function Ct(){if(Mr)return Dr;Mr=1;const e=dt(),r=ht(),t=gt(),n=yt(),i=vt(),o=function(){if(ye)return Ee;ye=1;const e=vt();return Ee=(r,t)=>{const n=e(r,t);return n?n.version:null}}(),s=function(){if(ve)return ge;ve=1;const e=vt();return ge=(r,t)=>{const n=e(r.trim().replace(/^[=v]+/,""),t);return n?n.version:null}}(),a=function(){if(we)return be;we=1;const e=gt();return be=(r,t,n,i,o)=>{"string"==typeof n&&(o=i,i=n,n=void 0);try{return new e(r instanceof e?r.version:r,n).inc(t,i,o).version}catch(e){return null}}}(),u=function(){if($e)return Se;$e=1;const e=vt();return Se=(r,t)=>{const n=e(r,null,!0),i=e(t,null,!0),o=n.compare(i);if(0===o)return null;const s=o>0,a=s?n:i,u=s?i:n,c=!!a.prerelease.length;if(u.prerelease.length&&!c)return u.patch||u.minor?a.patch?"patch":a.minor?"minor":"major":"major";const f=c?"pre":"";return n.major!==i.major?f+"major":n.minor!==i.minor?f+"minor":n.patch!==i.patch?f+"patch":"prerelease"}}(),c=function(){if(Ie)return Re;Ie=1;const e=gt();return Re=(r,t)=>new e(r,t).major}(),f=function(){if(Ae)return Oe;Ae=1;const e=gt();return Oe=(r,t)=>new e(r,t).minor}(),l=function(){if(Ne)return Te;Ne=1;const e=gt();return Te=(r,t)=>new e(r,t).patch}(),p=function(){if(je)return Le;je=1;const e=vt();return Le=(r,t)=>{const n=e(r,t);return n&&n.prerelease.length?n.prerelease:null}}(),h=bt(),m=function(){if(ke)return Ce;ke=1;const e=bt();return Ce=(r,t,n)=>e(t,r,n)}(),d=function(){if(Me)return De;Me=1;const e=bt();return De=(r,t)=>e(r,t,!0)}(),E=wt(),y=function(){if(Be)return Fe;Be=1;const e=wt();return Fe=(r,t)=>r.sort(((r,n)=>e(r,n,t)))}(),g=function(){if(Ke)return Ue;Ke=1;const e=wt();return Ue=(r,t)=>r.sort(((r,n)=>e(n,r,t)))}(),v=St(),b=$t(),w=Rt(),S=It(),$=Ot(),R=At(),I=Tt(),O=function(){if(or)return ir;or=1;const e=gt(),r=vt(),{safeRe:t,t:n}=dt();return ir=(i,o)=>{if(i instanceof e)return i;if("number"==typeof i&&(i=String(i)),"string"!=typeof i)return null;let s=null;if((o=o||{}).rtl){const e=o.includePrerelease?t[n.COERCERTLFULL]:t[n.COERCERTL];let r;for(;(r=e.exec(i))&&(!s||s.index+s[0].length!==i.length);)s&&r.index+r[0].length===s.index+s[0].length||(s=r),e.lastIndex=r.index+r[1].length+r[2].length;e.lastIndex=-1}else s=i.match(o.includePrerelease?t[n.COERCEFULL]:t[n.COERCE]);if(null===s)return null;const a=s[2],u=s[3]||"0",c=s[4]||"0",f=o.includePrerelease&&s[5]?`-${s[5]}`:"",l=o.includePrerelease&&s[6]?`+${s[6]}`:"";return r(`${a}.${u}.${c}${f}${l}`,o)}}(),A=Lt(),T=Nt(),N=jt(),L=function(){if(dr)return mr;dr=1;const e=Nt();return mr=(r,t)=>new e(r,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" "))),mr}(),j=function(){if(yr)return Er;yr=1;const e=gt(),r=Nt();return Er=(t,n,i)=>{let o=null,s=null,a=null;try{a=new r(n,i)}catch(e){return null}return t.forEach((r=>{a.test(r)&&(o&&-1!==s.compare(r)||(o=r,s=new e(o,i)))})),o},Er}(),P=function(){if(vr)return gr;vr=1;const e=gt(),r=Nt();return gr=(t,n,i)=>{let o=null,s=null,a=null;try{a=new r(n,i)}catch(e){return null}return t.forEach((r=>{a.test(r)&&(o&&1!==s.compare(r)||(o=r,s=new e(o,i)))})),o},gr}(),x=function(){if(wr)return br;wr=1;const e=gt(),r=Nt(),t=St();return br=(n,i)=>{n=new r(n,i);let o=new e("0.0.0");if(n.test(o))return o;if(o=new e("0.0.0-0"),n.test(o))return o;o=null;for(let r=0;r<n.set.length;++r){const i=n.set[r];let s=null;i.forEach((r=>{const n=new e(r.semver.version);switch(r.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":s&&!t(n,s)||(s=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${r.operator}`)}})),!s||o&&!t(o,s)||(o=s)}return o&&n.test(o)?o:null},br}(),C=Pt(),k=xt(),D=function(){if(Ar)return Or;Ar=1;const e=xt();return Or=(r,t,n)=>e(r,t,">",n),Or}(),M=function(){if(Nr)return Tr;Nr=1;const e=xt();return Tr=(r,t,n)=>e(r,t,"<",n),Tr}(),G=function(){if(jr)return Lr;jr=1;const e=Nt();return Lr=(r,t,n)=>(r=new e(r,n),t=new e(t,n),r.intersects(t,n))}(),_=function(){if(xr)return Pr;xr=1;const e=jt(),r=bt();return Pr=(t,n,i)=>{const o=[];let s=null,a=null;const u=t.sort(((e,t)=>r(e,t,i)));for(const r of u)e(r,n,i)?(a=r,s||(s=r)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const c=[];for(const[e,r]of o)e===r?c.push(e):r||e!==u[0]?r?e===u[0]?c.push(`<=${r}`):c.push(`${e} - ${r}`):c.push(`>=${e}`):c.push("*");const f=c.join(" || "),l="string"==typeof n.raw?n.raw:String(n);return f.length<l.length?f:n},Pr}(),F=function(){if(kr)return Cr;kr=1;const e=Nt(),r=Lt(),{ANY:t}=r,n=jt(),i=bt(),o=[new r(">=0.0.0-0")],s=[new r(">=0.0.0")],a=(e,r,a)=>{if(e===r)return!0;if(1===e.length&&e[0].semver===t){if(1===r.length&&r[0].semver===t)return!0;e=a.includePrerelease?o:s}if(1===r.length&&r[0].semver===t){if(a.includePrerelease)return!0;r=s}const f=new Set;let l,p,h,m,d,E,y;for(const r of e)">"===r.operator||">="===r.operator?l=u(l,r,a):"<"===r.operator||"<="===r.operator?p=c(p,r,a):f.add(r.semver);if(f.size>1)return null;if(l&&p){if(h=i(l.semver,p.semver,a),h>0)return null;if(0===h&&(">="!==l.operator||"<="!==p.operator))return null}for(const e of f){if(l&&!n(e,String(l),a))return null;if(p&&!n(e,String(p),a))return null;for(const t of r)if(!n(e,String(t),a))return!1;return!0}let g=!(!p||a.includePrerelease||!p.semver.prerelease.length)&&p.semver,v=!(!l||a.includePrerelease||!l.semver.prerelease.length)&&l.semver;g&&1===g.prerelease.length&&"<"===p.operator&&0===g.prerelease[0]&&(g=!1);for(const e of r){if(y=y||">"===e.operator||">="===e.operator,E=E||"<"===e.operator||"<="===e.operator,l)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(m=u(l,e,a),m===e&&m!==l)return!1}else if(">="===l.operator&&!n(l.semver,String(e),a))return!1;if(p)if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),"<"===e.operator||"<="===e.operator){if(d=c(p,e,a),d===e&&d!==p)return!1}else if("<="===p.operator&&!n(p.semver,String(e),a))return!1;if(!e.operator&&(p||l)&&0!==h)return!1}return!(l&&E&&!p&&0!==h||p&&y&&!l&&0!==h||v||g)},u=(e,r,t)=>{if(!e)return r;const n=i(e.semver,r.semver,t);return n>0?e:n<0||">"===r.operator&&">="===e.operator?r:e},c=(e,r,t)=>{if(!e)return r;const n=i(e.semver,r.semver,t);return n<0?e:n>0||"<"===r.operator&&"<="===e.operator?r:e};return Cr=(r,t,n={})=>{if(r===t)return!0;r=new e(r,n),t=new e(t,n);let i=!1;e:for(const e of r.set){for(const r of t.set){const t=a(e,r,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}}();return Dr={parse:i,valid:o,clean:s,inc:a,diff:u,major:c,minor:f,patch:l,prerelease:p,compare:h,rcompare:m,compareLoose:d,compareBuild:E,sort:y,rsort:g,gt:v,lt:b,eq:w,neq:S,gte:$,lte:R,cmp:I,coerce:O,Comparator:A,Range:T,satisfies:N,toComparators:L,maxSatisfying:j,minSatisfying:P,minVersion:x,validRange:C,outside:k,gtr:D,ltr:M,intersects:G,simplifyRange:_,subset:F,SemVer:t,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}function kt(){if(Kr)return Ur;Kr=1;const e=function(){if(_r)return Gr;_r=1;const e=Ct();return Gr=e.satisfies(process.version,">=15.7.0")}(),r=function(){if(Br)return Fr;Br=1;const e=Ct();return Fr=e.satisfies(process.version,">=16.9.0")}(),t={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},n={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Ur=function(i,o){if(!i||!o)return;const s=o.asymmetricKeyType;if(!s)return;const a=t[s];if(!a)throw new Error(`Unknown key type "${s}".`);if(!a.includes(i))throw new Error(`"alg" parameter for "${s}" key type must be one of: ${a.join(", ")}.`);if(e)switch(s){case"ec":const e=o.asymmetricKeyDetails.namedCurve,t=n[i];if(e!==t)throw new Error(`"alg" parameter "${i}" requires curve "${t}".`);break;case"rsa-pss":if(r){const e=parseInt(i.slice(-3),10),{hashAlgorithm:r,mgf1HashAlgorithm:t,saltLength:n}=o.asymmetricKeyDetails;if(r!==`sha${e}`||t!==r)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${i}.`);if(void 0!==n&&n>e>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${i}.`)}}}}function Dt(){if(Hr)return Vr;Hr=1;var e=Ct();return Vr=e.satisfies(process.version,"^6.12.0 || >=8.0.0")}function Mt(){if(qr)return Xr;qr=1;const e=Z(),r=Q(),t=ee(),n=Y(),i=te(),o=kt(),s=Dt(),a=J(),{KeyObject:u,createSecretKey:f,createPublicKey:l}=c.default,p=["RS256","RS384","RS512"],h=["ES256","ES384","ES512"],m=["RS256","RS384","RS512"],d=["HS256","HS384","HS512"];return s&&(p.splice(p.length,0,"PS256","PS384","PS512"),m.splice(m.length,0,"PS256","PS384","PS512")),Xr=function(s,c,E,y){let g;if("function"!=typeof E||y||(y=E,E={}),E||(E={}),E=Object.assign({},E),g=y||function(e,r){if(e)throw e;return r},E.clockTimestamp&&"number"!=typeof E.clockTimestamp)return g(new e("clockTimestamp must be a number"));if(void 0!==E.nonce&&("string"!=typeof E.nonce||""===E.nonce.trim()))return g(new e("nonce must be a non-empty string"));if(void 0!==E.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof E.allowInvalidAsymmetricKeyTypes)return g(new e("allowInvalidAsymmetricKeyTypes must be a boolean"));const v=E.clockTimestamp||Math.floor(Date.now()/1e3);if(!s)return g(new e("jwt must be provided"));if("string"!=typeof s)return g(new e("jwt must be a string"));const b=s.split(".");if(3!==b.length)return g(new e("jwt malformed"));let w;try{w=n(s,{complete:!0})}catch(e){return g(e)}if(!w)return g(new e("invalid token"));const S=w.header;let $;if("function"==typeof c){if(!y)return g(new e("verify must be called asynchronous if secret or public key is provided as a callback"));$=c}else $=function(e,r){return r(null,c)};return $(S,(function(n,c){if(n)return g(new e("error in secret or public key callback: "+n.message));const y=""!==b[2].trim();if(!y&&c)return g(new e("jwt signature is required"));if(y&&!c)return g(new e("secret or public key must be provided"));if(!y&&!E.algorithms)return g(new e('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=c&&!(c instanceof u))try{c=l(c)}catch(r){try{c=f("string"==typeof c?Buffer.from(c):c)}catch(r){return g(new e("secretOrPublicKey is not valid key material"))}}if(E.algorithms||("secret"===c.type?E.algorithms=d:["rsa","rsa-pss"].includes(c.asymmetricKeyType)?E.algorithms=m:"ec"===c.asymmetricKeyType?E.algorithms=h:E.algorithms=p),-1===E.algorithms.indexOf(w.header.alg))return g(new e("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==c.type)return g(new e(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==c.type)return g(new e(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!E.allowInvalidAsymmetricKeyTypes)try{o(S.alg,c)}catch(e){return g(e)}let $;try{$=a.verify(s,w.header.alg,c)}catch(e){return g(e)}if(!$)return g(new e("invalid signature"));const R=w.payload;if(void 0!==R.nbf&&!E.ignoreNotBefore){if("number"!=typeof R.nbf)return g(new e("invalid nbf value"));if(R.nbf>v+(E.clockTolerance||0))return g(new r("jwt not active",new Date(1e3*R.nbf)))}if(void 0!==R.exp&&!E.ignoreExpiration){if("number"!=typeof R.exp)return g(new e("invalid exp value"));if(v>=R.exp+(E.clockTolerance||0))return g(new t("jwt expired",new Date(1e3*R.exp)))}if(E.audience){const r=Array.isArray(E.audience)?E.audience:[E.audience];if(!(Array.isArray(R.aud)?R.aud:[R.aud]).some((function(e){return r.some((function(r){return r instanceof RegExp?r.test(e):r===e}))})))return g(new e("jwt audience invalid. expected: "+r.join(" or ")))}if(E.issuer){if("string"==typeof E.issuer&&R.iss!==E.issuer||Array.isArray(E.issuer)&&-1===E.issuer.indexOf(R.iss))return g(new e("jwt issuer invalid. expected: "+E.issuer))}if(E.subject&&R.sub!==E.subject)return g(new e("jwt subject invalid. expected: "+E.subject));if(E.jwtid&&R.jti!==E.jwtid)return g(new e("jwt jwtid invalid. expected: "+E.jwtid));if(E.nonce&&R.nonce!==E.nonce)return g(new e("jwt nonce invalid. expected: "+E.nonce));if(E.maxAge){if("number"!=typeof R.iat)return g(new e("iat required when maxAge is specified"));const r=i(E.maxAge,R.iat);if(void 0===r)return g(new e('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(v>=r+(E.clockTolerance||0))return g(new t("maxAge exceeded",new Date(1e3*r)))}if(!0===E.complete){const e=w.signature;return g(null,{header:S,payload:R,signature:e})}return g(null,R)}))},Xr}function Gt(){if(Wr)return zr;Wr=1;var e=1/0,r=9007199254740991,t=17976931348623157e292,n=NaN,i="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="[object String]",u="[object Symbol]",c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=/^(?:0|[1-9]\d*)$/,m=parseInt;function d(e){return e!=e}function E(e,r){return function(e,r){for(var t=-1,n=e?e.length:0,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}(r,(function(r){return e[r]}))}var y,g,v=Object.prototype,b=v.hasOwnProperty,w=v.toString,S=v.propertyIsEnumerable,$=(y=Object.keys,g=Object,function(e){return y(g(e))}),R=Math.max;function I(e,r){var t=T(e)||function(e){return function(e){return j(e)&&N(e)}(e)&&b.call(e,"callee")&&(!S.call(e,"callee")||w.call(e)==i)}(e)?function(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}(e.length,String):[],n=t.length,o=!!n;for(var s in e)!r&&!b.call(e,s)||o&&("length"==s||A(s,n))||t.push(s);return t}function O(e){if(t=(r=e)&&r.constructor,n="function"==typeof t&&t.prototype||v,r!==n)return $(e);var r,t,n,i=[];for(var o in Object(e))b.call(e,o)&&"constructor"!=o&&i.push(o);return i}function A(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||h.test(e))&&e>-1&&e%1==0&&e<t}var T=Array.isArray;function N(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var r=L(e)?w.call(e):"";return r==o||r==s}(e)}function L(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function j(e){return!!e&&"object"==typeof e}return zr=function(r,i,o,s){var h;r=N(r)?r:(h=r)?E(h,function(e){return N(e)?I(e):O(e)}(h)):[],o=o&&!s?function(r){var i=function(r){if(!r)return 0===r?r:0;if(r=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||j(e)&&w.call(e)==u}(e))return n;if(L(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=L(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var t=l.test(e);return t||p.test(e)?m(e.slice(2),t?2:8):f.test(e)?n:+e}(r),r===e||r===-1/0){return(r<0?-1:1)*t}return r==r?r:0}(r),o=i%1;return i==i?o?i-o:i:0}(o):0;var y=r.length;return o<0&&(o=R(y+o,0)),function(e){return"string"==typeof e||!T(e)&&j(e)&&w.call(e)==a}(r)?o<=y&&r.indexOf(i,o)>-1:!!y&&function(e,r,t){if(r!=r)return function(e,r,t,n){for(var i=e.length,o=t+(n?1:-1);n?o--:++o<i;)if(r(e[o],o,e))return o;return-1}(e,d,t);for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}(r,i,o)>-1}}function _t(){if(Qr)return Zr;Qr=1;var e=1/0,r=17976931348623157e292,t=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,c=Object.prototype.toString;function f(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}return Zr=function(l){return"number"==typeof l&&l==function(l){var p=function(l){if(!l)return 0===l?l:0;if(l=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==n}(e))return t;if(f(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=f(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var l=s.test(e);return l||a.test(e)?u(e.slice(2),l?2:8):o.test(e)?t:+e}(l),l===e||l===-1/0){return(l<0?-1:1)*r}return l==l?l:0}(l),h=p%1;return p==p?h?p-h:p:0}(l)}}function Ft(){if(at)return st;at=1;var e=1/0,r=17976931348623157e292,t=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,c=Object.prototype.toString;function f(f,p){var h;if("function"!=typeof p)throw new TypeError("Expected a function");return f=function(f){var p=function(f){if(!f)return 0===f?f:0;if(f=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==n}(e))return t;if(l(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=l(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var f=s.test(e);return f||a.test(e)?u(e.slice(2),f?2:8):o.test(e)?t:+e}(f),f===e||f===-1/0){return(f<0?-1:1)*r}return f==f?f:0}(f),h=p%1;return p==p?h?p-h:p:0}(f),function(){return--f>0&&(h=p.apply(this,arguments)),f<=1&&(p=void 0),h}}function l(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}return st=function(e){return f(2,e)}}function Bt(){if(ct)return ut;ct=1;const e=te(),r=Dt(),t=kt(),n=J(),i=Gt(),o=function(){if(Yr)return Jr;Yr=1;var e=Object.prototype.toString;return Jr=function(r){return!0===r||!1===r||function(e){return!!e&&"object"==typeof e}(r)&&"[object Boolean]"==e.call(r)}}(),s=_t(),a=function(){if(rt)return et;rt=1;var e=Object.prototype.toString;return et=function(r){return"number"==typeof r||function(e){return!!e&&"object"==typeof e}(r)&&"[object Number]"==e.call(r)}}(),u=function(){if(nt)return tt;nt=1;var e,r,t=Function.prototype,n=Object.prototype,i=t.toString,o=n.hasOwnProperty,s=i.call(Object),a=n.toString,u=(e=Object.getPrototypeOf,r=Object,function(t){return e(r(t))});return tt=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=a.call(e)||function(e){var r=!1;if(null!=e&&"function"!=typeof e.toString)try{r=!!(e+"")}catch(e){}return r}(e))return!1;var r=u(e);if(null===r)return!0;var t=o.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&i.call(t)==s}}(),f=function(){if(ot)return it;ot=1;var e=Object.prototype.toString,r=Array.isArray;return it=function(t){return"string"==typeof t||!r(t)&&function(e){return!!e&&"object"==typeof e}(t)&&"[object String]"==e.call(t)}}(),l=Ft(),{KeyObject:p,createSecretKey:h,createPrivateKey:m}=c.default,d=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&d.splice(3,0,"PS256","PS384","PS512");const E={expiresIn:{isValid:function(e){return s(e)||f(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return s(e)||f(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return f(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:i.bind(null,d),message:'"algorithm" must be a valid string enum value'},header:{isValid:u,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:o,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:o,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:o,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:o,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},y={iat:{isValid:a,message:'"iat" should be a number of seconds'},exp:{isValid:a,message:'"exp" should be a number of seconds'},nbf:{isValid:a,message:'"nbf" should be a number of seconds'}};function g(e,r,t,n){if(!u(t))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(t).forEach((function(i){const o=e[i];if(o){if(!o.isValid(t[i]))throw new Error(o.message)}else if(!r)throw new Error('"'+i+'" is not allowed in "'+n+'"')}))}const v={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},b=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return ut=function(r,i,o,s){"function"==typeof o?(s=o,o={}):o=o||{};const a="object"==typeof r&&!Buffer.isBuffer(r),u=Object.assign({alg:o.algorithm||"HS256",typ:a?"JWT":void 0,kid:o.keyid},o.header);function c(e){if(s)return s(e);throw e}if(!i&&"none"!==o.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(null!=i&&!(i instanceof p))try{i=m(i)}catch(e){try{i=h("string"==typeof i?Buffer.from(i):i)}catch(e){return c(new Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==i.type)return c(new Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==i.type)return c(new Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!o.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==i.asymmetricKeyDetails&&i.asymmetricKeyDetails.modulusLength<2048)return c(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===r)return c(new Error("payload is required"));if(a){try{!function(e){g(y,!0,e,"payload")}(r)}catch(e){return c(e)}o.mutatePayload||(r=Object.assign({},r))}else{const e=b.filter((function(e){return void 0!==o[e]}));if(e.length>0)return c(new Error("invalid "+e.join(",")+" option for "+typeof r+" payload"))}if(void 0!==r.exp&&void 0!==o.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==r.nbf&&void 0!==o.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){g(E,!1,e,"options")}(o)}catch(e){return c(e)}if(!o.allowInvalidAsymmetricKeyTypes)try{t(u.alg,i)}catch(e){return c(e)}const f=r.iat||Math.floor(Date.now()/1e3);if(o.noTimestamp?delete r.iat:a&&(r.iat=f),void 0!==o.notBefore){try{r.nbf=e(o.notBefore,f)}catch(e){return c(e)}if(void 0===r.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==o.expiresIn&&"object"==typeof r){try{r.exp=e(o.expiresIn,f)}catch(e){return c(e)}if(void 0===r.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(v).forEach((function(e){const t=v[e];if(void 0!==o[e]){if(void 0!==r[t])return c(new Error('Bad "options.'+e+'" option. The payload already has an "'+t+'" property.'));r[t]=o[e]}}));const d=o.encoding||"utf8";if("function"!=typeof s){let e=n.sign({header:u,payload:r,secret:i,encoding:d});if(!o.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return e}s=s&&l(s),n.createSign({header:u,privateKey:i,payload:r,encoding:d}).once("error",s).once("done",(function(e){if(!o.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return s(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));s(null,e)}))}}var Ut=f(lt?ft:(lt=1,ft={decode:Y(),verify:Mt(),sign:Bt(),JsonWebTokenError:Z(),NotBeforeError:Q(),TokenExpiredError:ee()}));e.RBAC=class{constructor(e){this.env=e,this.config={env:{dev:{host:"https://evm-rbac.staging.evermosa2z.com"}},path:{health:"/health",user:{login:"/v1/user/login",refreshToken:"/v1/user/refresh",logout:"/v1/user/logout",register:"/v1/user/register"},subject:{authorize:"/v1/subject/authorize",refreshToken:"/v1/subject/refresh",logout:"/v1/subject/logout"}}}}async checkHealth(){let e=this.config.env[this.env].host+this.config.path.health;try{const r=await fetch(e);if(!r.ok)throw new Error(`${r.error}`);return await r.json()}catch(e){console.error(e.message)}}async authorizePage(e,r,t){const n=t.subjectAccessToken.filter((r=>r.object===e));if(0===n.length)return new Error("unauthorized");let i=n[0].accessToken,o=function(e){let r=Ut.decode(e);return r}(i);if(r==o.objectId)return!0;try{let e=this.config.env[this.env].host+this.config.path.subject.authorize;const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+i}});if(console.log(r),!r.ok)throw new Error(`${r.error}`);return!0}catch(e){console.error(e)}return!1}},Object.defineProperty(e,"__esModule",{value:!0})}));
